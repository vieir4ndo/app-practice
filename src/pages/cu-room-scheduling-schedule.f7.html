<template>
	<div class="page" data-name="cu-room-scheduling-schedule">

		<div class="navbar">
			<div class="navbar-bg"></div>
			<div class="navbar-inner sliding">
				<!-- Link to go back -->
				<div class="left">
					<a href="/" class="link back">
						<i class="icon icon-back"></i>
						<span class="if-not-md">Voltar</span>
					</a>
				</div>
				<div class="title">Agendamento de Salas</div>
			</div>
		</div>

		<div class="page-content">
			<div id="lottie" class="block row display-flex align-items-center">
				<div id="lottie-text">
					<h2 class="no-margin">Agendar Sala</h2>
				</div>
				<div class="col-60">
					<lottie-player src="../static/lottie/cu-room-scheduling-schedule.json" loop autoplay>
					</lottie-player>
				</div>
			</div>
			<div class="display-flex justify-content-space-around">
				<span class="badge color-primary padding" @click="filterRoomSchedulingSchedule('since')">
					<h2 class="cu-room-scheduling-schedule-filter display-flex">
						<input type="text" readonly="readonly" value="01/08/2022 13h00 - 18h00"
						data-roomschedulingfilter="since" />
					</h2>
				</span>
			</div>
			<div class="list simple-list">
				<ul class="roomScheduling">
					<li class="item-content" @click="detailsRoomSchedule3()">
						<div class="item-inner">
							<div class="item-title-row">
								<div class="item-title">
									<div><b>Sala 404</b></div>
									<span class="badge color-orange">Bloco A</span>
								</div>
							</div>
							<div class="item-text no-wrap">50 Alunos</div>
						</div>
					</li>
					<li class="item-content" @click="detailsRoomSchedule3()">
						<div class="item-inner">
							<div class="item-title-row">
								<div class="item-title">
									<div><b>Sala 403</b></div>
									<span class="badge color-orange">Bloco A</span>
								</div>
							</div>
							<div class="item-text no-wrap">30 Alunos</div>
						</div>
					</li>
				</ul>
			</div>
		</div>

		<div class="fab fab-right-bottom color-orange">
			<a href="#">
				<i class="icon f7-icons if-not-md">plus</i>
				<i class="icon f7-icons if-not-md">xmark</i>
				<i class="icon material-icons md-only">add</i>
				<i class="icon material-icons md-only">close</i>
			</a>
			<div class="fab-buttons fab-buttons-top">
				<a class="fab-label-button" href="/cu/room-scheduling/locator/">
					<span><i class="icon f7-icons">calendar_badge_plus</i></span>
					<span class="fab-label">Agendamentos</span>
				</a>
				<a class="fab-label-button" href="/cu/room-scheduling/responsible/">
					<span><i class="icon f7-icons">chat_bubble_fill</i></span>
					<span class="fab-label">Solicitações</span>
				</a>
			</div>
		</div>
		
		<div class="popup" id="cu-room-scheduling-schedule-popup">
			<div class="block no-margin-bottom">
				<a class="link popup-close" href="#">
					<i class="f7-icons">chevron_left</i>Voltar
				</a>
				<div class="display-flex flex-direction-column justify-content-flex-start">
					<div class="block no-margin-bottom">
						<h2>Sala 403 <span class="badge color-orange"><b>Bloco A</b></span></h2>
						<div>Responsável pela Sala: Dênio Duarte</div>
						<hr class="margin-vertical">
					</div>
					
					<div class="list no-hairlines no-margin">
						<ul>
							<li class="item-content item-input item-input-outline">
								<div class="item-inner">
									<div class="item-title item-floating-label">Data de Início</div>
									<div class="item-input-wrap">
										<input type="date" name="user-birth_date" required validate />
									</div>
								</div>
							</li>
							<li class="item-content item-input item-input-outline">
								<div class="item-inner">
									<div class="item-title item-floating-label">Data de Fim</div>
									<div class="item-input-wrap">
										<input type="date" name="user-birth_date" required validate />
									</div>
								</div>
							</li>
							<li class="item-content item-input item-input-outline">
								<div class="item-inner">
									<div class="item-title item-floating-label">CCR Vinculado</div>
									<div class="item-input-wrap">
										<select name="" id="">
											<option value="">CC-GEX613</option>
											<option value="">CC-GEX614</option>
											<option value="">CC-GEX615</option>
										</select>
									</div>
								</div>
							</li>
							<li class="item-content item-input item-input-outline">
								<div class="item-inner">
									<div class="item-title item-floating-label">Observações do Agendamento</div>
									<div class="item-input-wrap">
										<textarea name="" id="" cols="30" rows="10"></textarea>
									</div>
								</div>
							</li>
						</ul>
					</div>

					<div class="block">
						<button class="button button-fill color-green margin-top">
							Enviar Solicitação
						</button>
					</div>
				</div>
			</div>
		</div>
</template>
<style>
	.roomScheduling .item-content {
		line-height: normal;
		height: 100px;
	}

	/* Striped List */
	.roomScheduling .item-content:nth-child(even) {
		background-color: rgb(230, 230, 230);
	}

	.cu-room-scheduling-schedule-filter input {
		width: 230px;
		margin-left: 5px;
		font-weight: bold;
	}
</style>
<script>
	export default {
		methods: {
			filterRoomSchedulingSchedule(filter) {
				let app = this.$app;

				let calendar = app.calendar.create({
					inputEl: 'input[data-roomschedulingfilter="' + filter + '"]',
					dateFormat: 'dd/mm/yyyy HHhss',
					closeOnSelect: true,
					backdrop: true,
					header: true,
					timePicker: true,
					headerPlaceholder: 'Data desejada:',
					on: {
						close: function () {
							console.log('Procurar()')
						},
						closed: function () {
							calendar.destroy();
						}
					}
				});
				calendar.open();
			},
			detailsRoomSchedule3() {
				let app = this.$app;

				let popup = app.popup.create({
					swipeToClose: 'to-bottom',
					closeByBackdropClick: true,
					el: app.$$('#cu-room-scheduling-schedule-popup'),
				})
				popup.open();
			}
		}
	}
</script>